/*! lazyload - v2.1.1 - 2018-04-01
 * https://github.com/13twelve/lazyload
 * Copyright (c) 2018
 * License: MIT
 * Author: Mike Byrne @13twelve https://github.com/13twelve
 */
!function(e,t){"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?module.exports=t():e.lazyLoad=t()}(this,function(){function t(e){var t=[],n=0;for(t=[],n=e.length;n;)t[--n]=e[n];return t}function n(e){var t=(e="SOURCE"===e.tagName?e.parentNode:e).getBoundingClientRect();return 0<t.bottom&&0<t.right&&t.left<(window.innerWidth||document.documentElement.clientWidth)&&t.top<(window.innerHeight||document.documentElement.clientHeight)}function r(e){e.removeAttribute("data-src"),e.removeAttribute("data-srcset"),e.removeAttribute("data-lazyload")}function o(){this.removeEventListener("load",o),r(this)}function a(e){var t=e.getAttribute("data-srcset"),n=e.getAttribute("data-src"),a=null!==e.getAttribute("data-lazyload");t&&(e.setAttribute("srcset",t),window.picturefill&&window.picturefill({elements:[e]})),n&&(e.src=n),a&&(e.setAttribute("data-lazyloaded",""),e.removeEventListener("load",o),r(e))}function d(e){0===u&&f.disconnect();for(var t=0;t<e.length;t++){var n=e[t];0<n.intersectionRatio&&(u--,f.unobserve(n.target),n.target.addEventListener("load",o,!1),a(n.target))}}function i(){var e;if("really-old"===m){for(u=v.length,e=0;e<u;e++)v[e]&&(a(v[e]),r(v[e]));v=[]}else if("old"===m){if(s===g.maxFrameCount){for(u=v.length,e=0;e<u;e++)if(v[e]&&v[e].lazyloaded===undefined&&n(v[e])){var t=v[e];v[e]=undefined,t.lazyloaded=!0,t.addEventListener("load",o,!1),a(t)}for(e=0;e<u;e++)v[e]===undefined&&v.splice(e,1);u=v.length,s=-1}0<u&&(s++,c=window.requestAnimationFrame(i))}else if("new"===m)for(f=new IntersectionObserver(d,{rootMargin:g.rootMargin,threshold:g.threshold}),u=v.length,e=0;e<u;e++)v[e]&&v[e].lazyloaded===undefined&&f.observe(v[e])}function l(){if("old"===m)try{cancelAnimationFrame(c)}catch(e){}else if("new"===m)try{f.disconnect()}catch(e){}v=t(document.querySelectorAll(g.elements)),u=v.length,s=g.maxFrameCount,i()}var c,s,u,f,m,g={pageUpdatedEventName:"page:updated",elements:"img[data-src], img[data-srcset], source[data-srcset], iframe[data-src], video[data-src], [data-lazyload]",rootMargin:"0px",threshold:0,maxFrameCount:10},v=[];return function(e){for(var t in e)e.hasOwnProperty(t)&&(g[t]=e[t]);m="addEventListener"in window&&window.requestAnimationFrame&&typeof document.body.getBoundingClientRect!==undefined?"IntersectionObserver"in window?"new":"old":"really-old",l(),g.pageUpdatedEventName&&document.addEventListener(g.pageUpdatedEventName,l,!0)}}),lazyLoad();